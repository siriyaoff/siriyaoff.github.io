---
layout: single
title: "2023.01"
categories:
  - Miscellaneous
tags:
  - My
---

첫 출근이라 심적으로 조금 부담스러워서 퇴근하고 일부러 민턴이나 약속을 더 나갔던 것 같다. 레슨은 출근때문에 받지 못했지만, 게임을 많이 치면서 게임 운영 능력은 올라갔다. 설 연휴에 안양으로 초대를 받아서 잘 치는 모임에 가서 친 적이 있는데, 확실히 잘치는 사람들과 쳐야 실력이 오르는 것을 알게 되었다. 임팩트 자체가 조금 개선된 느낌이다. BFC004를 나갈까 고민했는데 일단 나가보기로 했다. 저번에 비기너 4강까지 가서 이번에는 초심으로 나가야 하는데 본선 진출만 해도 좋을 것 같다.

출근하자마자 우선 닷넷 소켓 통신에 관한 업무를 받았다. 우선 닷넷이라는 프레임워크에 대한 경험이 없어서 이틀에 걸쳐 기본적인 API 통신, 스캐폴딩을 활용한 CRUD 등을 클론코딩했다. 한 달 동안 진행할 프로젝트는 웹캠 기반 실시간 아바타 트래킹을 지원하는 화상 회의 프로그램을 만드는 것이었다. 프로그램은 유니티 앱으로 빌드하고 서버와 소켓 통신을 열어서 RTC를 구현하는 것이 전체적인 구조이다. 유니티 앱에서는 C#을 사용하고, 이미 RTC와 관련된 어셋인 FMETP를 구매한 상태였다. 서버의 프레임워크는 그래도 익숙한 nodejs를 사용하는게 좋을 것 같아서 express.js로 구현하고, ws, socket.io 등의 라이브러리들의 차이점을 바탕으로 FMETP와 가장 적합한 라이브러리인 ws를 사용해서 소켓 통신을 연결하기로 결정했다. 우선 첫 주에는 이렇게 사용할 기술 스택에 관한 조사를 하고, EC2에 보일러 플레이트를 배포해놓았다.

이후 Websocket Basic Framing Protocol 표준, FMETP mediapipeline이 구현된 코드를 뒤져가면서 FMWebSocket과 호환이 되도록 express 서버에서 소켓 통신을 구현했고, EC2에 pm2, nginx를 적용시켜서 다른 프로젝트들도 테스트를 같이 돌릴 수 있도록 환경을 구성했다. 소켓 통신의 핵심 기능들을 구현한 다음에는 video stop, 세션 종료 핸들링 등의 세부적인 기능을 구현했다. 이때는 유니티 앱의 코드를 중점적으로 봤던 것 같다.

특히 stop-video 버튼의 구현은 미디어 파이프라인의 부팅과 관련된 전반적인 이해가 필요해서 셋째 주 내내 붙잡고 있었다. 넷째 주는 설 연휴가 껴 있었고, 프로덕트를 고도화할지, 다른 프로덕트를 개발할 지 결정이 나지 않은 상태라서 개인적으로 하고싶었던 ci/cd를 구현했다. codedeploy는 저번에 써보았고, 이번 프로젝트에서는 AWS 서비스를 많이 사용하지 않아서 jenkins를 사용해보았다. 이 과정에서도 리눅스 계정 권한 관련 문제가 발생해서 linux에 관해 cs level까지 내려가서 공부했다. 리눅스에 대해서 익숙해질 수 있어서 좋은 경험이었다.

2월에도 이 프로덕트의 완성도를 높이는 방향으로 결정이 나서, 마지막 주 이틀은 FMETP의 audio pipeline에 관해 공부하기 시작했다. 아직은 웹캠에 회사의 프로덕트인 3d 아바타를 적용시킨 결과 영상만 RTC의 피드로 넘겨주고 오디로는 지원하지 않는데, 내가 audio support를 담당하게 되었다. 예상 기간은 1주 정도로 생각하고 있고, 읽어보니 오디오 관련 메소드들은 이미 있는 상태라서 미디어 파이프라인의 적재적소에 호출 후 플래그만 잘 조절해주면 될 것 같다.

일정 관리를 지라로 하지 않고 노션으로 모두 처리해서 처음에는 적응이 되지 않았다. 노션은 개인이 수정할 수 있는 자유도도 지라보다 높은 편이라서 템플릿을 활용하지 않으면 초기 설정이 어렵기 때문이다. 프로젝트는 한 달 단위로 이뤄져서 스크럼을 도입할 수 있는 구조였지만, 다들 출근해서 따로 데일리 스크럼을 진행하진 않고 즉시 소통했다. 팀의 진행 상황 또한 체크리스트로 로드맵을 대체했다. 그리고 개인 페이지에 칸반 보드를 만들어서 각자 일정 관리를 하는 것 같았다. 나는 날짜, 예상 시간, 소요 시간 속성을 추가해서 칸반 보드, 캘린더, 백로그 형태로 볼 수 있도록 구성했다.

개인 일정 관리에는 아쉬움이 좀 남았다. 둘째 주부터는 적응을 해서 퇴근 후에는 블로그에 쓸만한 태스크를 포스트하거나 ps를 이어나갔는데, 월 말쯤에는 고등학교 친구가 동네로 이사와서 같이 놀기 바빴다. 주말에도 민턴 소모임에 시간을 너무 많이 썼다. 2월에는 시간 조절을 잘 해야겠다.
